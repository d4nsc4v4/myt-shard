/////////////////////////////////////////////////////////////////////////////////////

//              SISTEMA DE AÇÕES

//   ATENÇÃO: Este sistema não tem nada ver com bolça de valores ou stock market.

//              Mystical Tales Shard

//                  08/2007

//  USMarine
//  Galthar, o Errante
//  LorD ChaoS
/////////////////////////////////////////////////////////////////////////////////////

[PLEVEL 1]
acoes
vomitar
arrotar
tossir
peidar
rir
observar
gritar
chamar
afastar
ola
saudar
comemorar
susto
confusa
confuso
surpreso
surpresa
ops
oops
cospir
erguer
unstack


[FUNCTION vomitar]
f_vomita

[FUNCTION peidar]
f_peida

[FUNCTION tossir]
f_tosse

[FUNCTION espirrar]
f_espirra

[FUNCTION arrotar]
f_arrota

[FUNCTION rir]
sfx <SEX 042A/031A>
emotegreen ri
anim 6

[FUNCTION observar]
sfx <SEX 0419/031F>
emotegreen observa
anim 5

[FUNCTION gritar]
sfx <SEX 044A/0338>
emotegreen grita
anim 9

[FUNCTION chamar]
sfx <SEX 0447/0335>
emotegreen chama
anim 11

[FUNCTION afastar]
sfx <SEX 042D/0334>
emotegreen afasta
anim 12

[FUNCTION ola]
sfx <SEX 042D/030A>
emotegreen cumprimenta
anim 17

[FUNCTION saudar]
sfx <SEX 042D/0320>
emotegreen sauda
anim 33

[FUNCTION comemorar]
sfx <SEX 0449/0337>
emotegreen comemora
anim 30

[FUNCTION susto]
sfx <SEX 0429/0319>
emotegreen assusta-se
anim 20

[FUNCTION confusa]
confuso

[FUNCTION confuso]
sfx <SEX 042B/031B>
emotegreen confus<SEX o/a>
anim 34

[FUNCTION surpresa]
surpreso

[FUNCTION surpreso]
sfx <SEX 043D/032B>
emotegreen surpres<SEX o/a>
anim 32

[FUNCTION oops]
ops

[FUNCTION ops]
sfx <SEX 043E/032C>
emotegreen ops
anim 5

[FUNCTION cospir]
sfx <SEX 0446/0334>
emotegreen cospe
anim 7

[FUNCTION erguer]
emoteyellow ergue os bracos
anim 17

[FUNCTION cagar]
SFX=458
emotegreen Cagando
TIMERF 4,f_cagar1    

[FUNCTION f_cagar1]
emoteyellow Faz forca
sfx <sex 763/1202>
TIMERF 4,f_cagar2

[FUNCTION f_cagar2]
emotered Fazendo muita forca
sfx <sex 1080/791>
TIMERF 4,f_cagar3

[FUNCTION f_cagar3]
emotered Fazendo muita forca com rosto avermelhado
sfx= <sex 1343/1348>
TIMERF 4,f_cagar4

[FUNCTION f_cagar4]
SERV.NEWITEM=i_bosta_humana
NEW.p=<src.p>
src.emoteyellow Aliviado da caganeira
src.sysmessageyellow A merda escorre por entre as pernas.
sfx <sex 608/1340>

[ITEMDEF i_bosta_humana] 
ID=0f3c
NAME=Fezes humana
WEIGHT=10
TYPE=t_script

ON=@CREATE
ATTR=attr_decay
TIMER=10

[FUNCTION acoes]
scroll scroll_acoes

[FUNCTION unstack]

if (!<argo>)
    src.sysmessageyellow Selecione o item para desempilhar.
    targetf unstack <argv0>
    return 1
endif

LOCAL.x=1
if (<isnum <argv0>>)
    if (<argv0> > 0)
        LOCAL.x=<argv0>
    endif
endif

if (<LOCAL.x> >= <argo.amount>)
    src.sysmessageyellow Nao pode tirar <eval <argo.amount>> ou mais.
else
    argo.amount -= <LOCAL.x>
    argo.update
    //copia item
    serv.newdupe <argo.uid>
    new.amount=<LOCAL.x>
    //muda color pra nao dar stack de novo
    new.color=-1
    //bounce primeiro pra colocar em posicao diferente na bag
    new.bounce
    new.cont=<argo.cont>
    new.color=<argo.color>
    src.sysmessageyellow <dLOCAL.x> removido(s) da pilha. Ficaram: <eval <argo.amount>>
endif

[SCROLL scroll_acoes]
    -=Acoes de interpretacao=-
Digite um dos seguintes comandos incuindo o ponto inicial
.vomitar
.arrotar
.tossir
.peidar
.rir
.observar
.gritar
.chamar
.afastar
.ola
.saudar
.comemorar
.susto
.confusa
.confuso
.surpreso
.surpresa
.ops
.oops
.cospir
.erguer
.cabelo



//*****************************************************************************
// f_vomita
//*****************************************************************************
//Faz o char fomitar
[FUNCTION f_vomita]
serv.newitem i_vomito
new.p=<p>
new.movedir <dir>
new.timer={8 12}
emotegreen vomita
IF (<isplayer>)
 sfx <SEX 043f/032d>
 anim 20
else
 cry
endif

[ITEMDEF i_vomito]
id=0322e
name=vomito
dye=1

on=@create
dispid={i_blood_pool_large 1 0122d 1 i_blood_smear 1}
color=colors_yellow
type=t_normal
attr=04012
update

//*****************************************************************************
// f_peida
//*****************************************************************************
//Faz o char flatular
[FUNCTION f_peida]
emotegreen flatula
IF (<isplayer>)
 sfx <SEX 0428/0319>
 anim 20
else
 cry
endif

//*****************************************************************************
// f_tosse
//*****************************************************************************
//Faz o char tossir
[FUNCTION f_tosse]
emotegreen tosse
IF (<isplayer>)
 sfx <SEX 0420/0311>
 anim 6
else
 cry
endif

//*****************************************************************************
// f_espirra
//*****************************************************************************
//Faz o char espirrar
[FUNCTION f_espirra]
emotegreen espirra
IF (<isplayer>)
 sfx <SEX 0443/0331>
 anim 6
else
 cry
endif

//*****************************************************************************
// f_arrota
//*****************************************************************************
//Faz o char arrotar
[FUNCTION f_arrota]
emotegreen arrota
IF (<isplayer>)
 sfx <SEX 041d/030e>
 anim 6
else
 cry
endif

[EOF]